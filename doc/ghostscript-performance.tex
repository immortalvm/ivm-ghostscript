\documentclass[a4paper,11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[includeheadfoot,margin=2cm]{geometry}
\usepackage{times}
\usepackage{booktabs}
\usepackage[small]{titlesec}
\usepackage{enumitem}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{mathptmx}
\usepackage{tikz}
\usepackage{xifthen}
\usepackage{fancyvrb}
\frenchspacing
\setlist{nosep}

\renewcommand{\ttdefault}{cmtt}
\newcommand{\code}[1]{\texttt{#1}}
\newenvironment{codeblock}{\begin{trivlist}\ttfamily
  \item }{\end{trivlist}}
\DefineVerbatimEnvironment{Diff}{Verbatim}{formatcom=\footnotesize}

\author{Thor Kristoffersen}
\date{\today}
\title{Performance of Ghostscript PDF Rendering on ivm64}
\begin{document}

\maketitle

\noindent
This is a report on the performance of the ivm64 port of Ghostscript for high-resolution rendering of PDF documents.

\section{Test Setup}
\label{sec:test setup}

The tests were performed on a virtual machine running on an Intel Core i7-8850H (2.60GHz).

The Ghostscript source code was compiled with ivm64-gcc version 1.0rc5-ar based on gcc 8.3.0, then assembled with the iVM assembler version 0.3, and then executed on an optimized C implementation of the iVM.

In each test case, Adobe Acrobat Pro DC version 2020.012.20048 was used to convert the original document to PDF/A format.

The conversion of each PDF document was done by executing the Ghostscript executable with the following command-line, which renders the document at 300 ppi, with 16 levels of antialiasing for both text and graphics.
\begin{trivlist}\ttfamily
\item gs -sDEVICE=ivm64 -dGraphicsAlphaBits=4 -dTextAlphaBits=4 -r300x300 -dNOPAUSE \\ -dBATCH -dSAFER -sOutputFile=- Input.pdf
\end{trivlist}


Since the output from the virtual machine was rendered as a sequence of PNG files, it was possible to infer the rendering time for each page, allowing per-page statistical parameters to be calculated.

\section{A 17-Page Technical Document}

This test case is \emph{How to Build a Machine}, a 17-page technical document containing tables and mathematical formulas, but no graphics.
The test results are shown in Figure~\ref{tab:17-page-doc}.

\begin{table}[htbp]
  \centering\small
  \begin{tabular}{@{}lr@{}}
    \hline
    Parameter      & Time [s] \\
    \hline
    Page mean      & 32  \\
    Page median    & 30  \\
    Page minimum   & 6   \\
    Page maximum   & 36  \\
    Page std.dev.  & 8   \\
    Document total & 537 \\
    \hline
  \end{tabular}
  \caption{Test results for 17-page mathematical document}
  \label{tab:17-page-doc}
\end{table}

\section{A 96-Page Government Report with Diagrams}

This test case is \emph{NOU 2019:11 Enklere merverdiavgift med Ã©n sats}, a 96-page government report, of which 16 pages contain diagrams and other graphics elements.
The test results are shown in Figure~\ref{tab:96-page-doc}.

\begin{table}[htbp]
  \centering\small
  \begin{tabular}{@{}lr@{}}
    \hline
    Parameter      & Time [s] \\
    \hline
    Page mean      & 86  \\
    Page median    & 83  \\
    Page minimum   & 6   \\
    Page maximum   & 604  \\
    Page std.dev.  & 60   \\
    Document total & 8299 \\
    \hline
  \end{tabular}
  \caption{Test results for 96-page government report}
  \label{tab:96-page-doc}
\end{table}

\section{Conclusion}

On modern hardware the average PDF rendering time per page is well below the project requirement of three minutes.

\end{document}
